
<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>LOVE UUUU</title>
    <meta name="description" content="Xoay m·ªôt v√≤ng, k√Ω ·ª©c l·∫°i v·ªÅ. T·ªõ v·∫´n ·ªü ƒë√¢y, c√πng c·∫≠u nh√¨n l·∫°i nh·ªØng ng√†y ƒë√°ng y√™u nh·∫•t qua v√≤ng quay 3D di·ªáu k·ª≥ n√†y.">
    <meta name="keywords" content="G·∫∑p nhau l·∫ßn ƒë·∫ßu,
√°nh m·∫Øt ch·∫°m nhau th·∫≠t kh·∫Ω,
n·ª• c∆∞·ªùi khi·∫øn tim rung rinh,
tin nh·∫Øn ng·ªëc x√≠t m√† nh·ªõ c·∫£ ng√†y,
c√¢u n√≥i d·ªói nh·∫π m√† th∆∞∆°ng v√¥ c√πng,
l·∫∑ng im nh∆∞ng v·∫´n lu√¥n ch·ªù nhau,
nh·ªØng ng√†y kh√¥ng t√™n m√† l·∫°i ƒë√°ng nh·ªõ nh·∫•t,
y√™u th∆∞∆°ng ch·∫≥ng c·∫ßn n√≥i th√†nh l·ªùi,
v·∫´n gi·ªØ m·ªôt g√≥c nh·ªè d√†nh cho c·∫≠u trong tim.">
    <link rel="canonical" href="https://love.tsonit.com/vong-xoay-ky-uc">
    <meta property="og:title" content="SEMANGATT CINTAAAAA">
    <meta property="og:description" content="Xoay m·ªôt v√≤ng, k√Ω ·ª©c l·∫°i v·ªÅ. T·ªõ v·∫´n ·ªü ƒë√¢y, c√πng c·∫≠u nh√¨n l·∫°i nh·ªØng ng√†y ƒë√°ng y√™u nh·∫•t qua v√≤ng quay 3D di·ªáu k·ª≥ n√†y.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://love.tsonit.com/vong-xoay-ky-uc">
    <meta property="og:image" content="https://love.tsonit.com/love.jpg">
    <meta property="og:image:height" content="575">
    <meta property="og:image:width" content="288">
    <meta name="twitter:title" content="SEMANGATT CINTAAAAA">
    <meta name="twitter:description" content="Xoay m·ªôt v√≤ng, k√Ω ·ª©c l·∫°i v·ªÅ. T·ªõ v·∫´n ·ªü ƒë√¢y, c√πng c·∫≠u nh√¨n l·∫°i nh·ªØng ng√†y ƒë√°ng y√™u nh·∫•t qua v√≤ng quay 3D di·ªáu k·ª≥ n√†y.">
    <meta name="twitter:image" content="https://love.tsonit.com/love.jpg">
    <meta name="twitter:site" content="@loveloom">
    <meta property="og:url" content="https://love.tsonit.com/vong-xoay-ky-uc">
    <link rel="canonical" href="https://love.tsonit.com/vong-xoay-ky-uc">
    <meta property="og:image:alt" content="Trang b√¨a c·ªßa LoveLoom" />
    <meta name="twitter:image:alt" content="Trang b√¨a c·ªßa LoveLoom" />
    <meta property="og:site_name" content="LoveLoom" />
    <meta name="twitter:creator" content="@thanhson1711" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="author" content="Th√†nh S∆°n">
    <meta name="copyright" content="¬© 2025 LoveLoom">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <link rel="icon" type="image/png" href="https://love.tsonit.com/ico_logo.png" sizes="16x16">
    <link rel="stylesheet" href="https://love.tsonit.com/assets/roundabout/style.css?v=1.10">
    <!-- S·ª≠ d·ª•ng link CDN Font Awesome ƒë·ªÉ ƒë·∫£m b·∫£o ho·∫°t ƒë·ªông -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C01QH0Y269"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-C01QH0Y269');
    </script>
    <style>
        .btn-audio-toggle {
            background-color: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
        }

        .music-status {
            display: flex;
            position: fixed;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            z-index: 9999;
            align-items: center;
            font-family: sans-serif;
            font-size: 14px;
        }

        .music-status .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #57162F;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <!-- TH√äM C√ÅC PH·∫¶N T·ª¨ TH√îNG B√ÅO N√ÄY V√ÄO ƒê·∫¶U TI√äN -->
    <div id="loader" class="status-overlay is-active">
        <div class="spinner"></div>
        <p>ƒêang t·∫£i d·ªØ li·ªáu K√Ω ·ª©c...</p>
    </div>
    <div id="error-message" class="status-overlay">
        <p>R·∫•t ti·∫øc, ƒë√£ c√≥ l·ªói x·∫£y ra. Vui l√≤ng th·ª≠ l·∫°i sau.</p>
    </div>
    <h2 id="title">SEMANGATT CINTAAAAA</h2>

    <div class="carousel-container">
        <div class="carousel" id="carousel">
            <!-- C√°c th·∫ª card s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông ch√®n v√†o ƒë√¢y b·∫±ng JavaScript -->
        </div>
    </div>

    <div class="controls1">
        <button class="prev" id="prev">‚Üê</button>
        <button class="next" id="next">‚Üí</button>
    </div>
    <button id="toggle-audio" class="text-white btn-audio-toggle"
        style="position: absolute; top: 10px; right: 10px; z-index: 999;">
        <i id="audio-icon" class="text-white  fa-solid fa-volume-high"></i>
    </button>
    <!-- S·ª≠ d·ª•ng link CDN GSAP ƒë·ªÉ ƒë·∫£m b·∫£o ho·∫°t ƒë·ªông -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>
            
        <script>
            window.dataRoundaboutLoveLoom = {
    template: 'roundabout',
    data: {
      image: [
        'img1.jpg',
        'img2.jpg',
        'img3.jpg',
        'img4.jpg',
        'img5.jpg',
        'img6.jpg',
        'img7.jpg'
      ]
    }
  };
        </script>
        <script src="https://love.tsonit.com/assets/roundabout/script.js?v=1755701241"></script>
    <script>
        // Thay th·∫ø to√†n b·ªô ƒë·ªëi t∆∞·ª£ng musicManager c≈© b·∫±ng c√°i n√†y
        const musicManager = {
            // Properties
            audio: null,
            isUnlocked: false, // << QUAN TR·ªåNG: Th√™m tr·∫°ng th√°i "ƒë√£ m·ªü kh√≥a"
            state: 'idle', // idle, loading, ready, playing, paused, error
            tokenData: null,

            _setupAudio(sourceUrl = null) {
                // Gi·ªØ nguy√™n logic n√†y
                let audioSrc = sourceUrl || window.dataRoundaboutLoveLoom?.data?.backgroundMusic;
                if (!audioSrc) {
                    // Thay ƒë·ªïi nh·ªè: S·ª≠ d·ª•ng m·ªôt ƒë∆∞·ªùng d·∫´n m·∫∑c ƒë·ªãnh an to√†n h∆°n
                    audioSrc = 'musik.mp3'; // <-- ƒê·∫£m b·∫£o b·∫°n c√≥ file n√†y
                    console.warn("Kh√¥ng t√¨m th·∫•y c·∫•u h√¨nh nh·∫°c, s·ª≠ d·ª•ng nh·∫°c m·∫∑c ƒë·ªãnh.");
                }
                this.audio = new Audio(audioSrc);
                const isCrossOrigin = /^(https?:)?\/\//.test(audioSrc) && new URL(audioSrc).origin !== window.location.origin;
                if (isCrossOrigin) {
                    this.audio.crossOrigin = "anonymous";
                }
                this.audio.loop = true;
                this.audio.volume = 0.7;
                this.attachEventListeners();
                // Kh√¥ng c·∫ßn g√°n window.galaxyAudio n·ªØa tr·ª´ khi b·∫°n d√πng n√≥ ·ªü n∆°i kh√°c
                this.updateState('ready');
            },

            async init() {
                // Logic init n√†y v·ªÅ c∆° b·∫£n ƒë√£ t·ªët, gi·ªØ nguy√™n
                const musicConfig = window.dataRoundaboutLoveLoom?.data;
                this.updateState('loading');

                if (!musicConfig) {
                    console.warn("Kh√¥ng t√¨m th·∫•y dataRoundaboutLoveLoom. S·ª≠ d·ª•ng nh·∫°c h·ªá th·ªëng d·ª± ph√≤ng.");
                    this._setupAudio();
                    return;
                }

                if (musicConfig.type_music === 'system') {
                    this._setupAudio(musicConfig.backgroundMusic);
                } else if (musicConfig.type_music === 'zing' && musicConfig.music_id) {
                    try {
                        const res = await this.fetchWithAuth(`/get-song?id=${musicConfig.music_id}`);
                        console.log(res)
                        if (!res.ok) throw new Error(`Response not OK: ${res.status}`);
                        const songInfo = await res.json();
                        const mp3Url = songInfo.stream?.['128'];

                        if (mp3Url) {
                            this._setupAudio(mp3Url);
                        } else {
                            console.error('Kh√¥ng t√¨m th·∫•y link MP3 128kbps, d√πng nh·∫°c d·ª± ph√≤ng.');
                            this._setupAudio();
                        }
                    } catch (error) {
                        console.error('L·ªói khi l·∫•y nh·∫°c t·ª´ Zing:', error);
                        this.updateState('error');
                        this._setupAudio();
                    }
                } else {
                    this._setupAudio();
                }
            },

            // ===================================================================
            // ===== C·∫¨P NH·∫¨T QUAN TR·ªåNG NH·∫§T: Ph∆∞∆°ng th·ª©c play() "th√¥ng minh" =====
            // ===================================================================
            play() {
                // N·∫øu ch∆∞a c√≥ audio ho·∫∑c ch∆∞a s·∫µn s√†ng, kh√¥ng l√†m g√¨ c·∫£
                if (!this.audio || this.state === 'loading') {
                    return Promise.reject(new Error("Audio ch∆∞a s·∫µn s√†ng."));
                }

                // N·∫øu ƒëang ch·∫°y r·ªìi th√¨ th√¥i
                if (!this.audio.paused) {
                    return Promise.resolve();
                }

                // C·ªë g·∫Øng ph√°t nh·∫°c
                const playPromise = this.audio.play();

                playPromise.then(() => {
                    // TH√ÄNH C√îNG: ƒê√°nh d·∫•u ƒë√£ m·ªü kh√≥a v√† c·∫≠p nh·∫≠t tr·∫°ng th√°i
                    this.isUnlocked = true;
                    this.updateState('playing');
                }).catch(error => {
                    // TH·∫§T B·∫†I: (Th∆∞·ªùng l√† do ch√≠nh s√°ch Autoplay)
                    if (error.name === 'NotAllowedError') {
                        console.warn("Autoplay b·ªã ch·∫∑n. C·∫ßn ng∆∞·ªùi d√πng t∆∞∆°ng t√°c.");
                        // Gi·ªØ tr·∫°ng th√°i l√† 'paused' ho·∫∑c 'ready' ƒë·ªÉ l·∫ßn sau c√≥ th·ªÉ th·ª≠ l·∫°i
                        this.updateState('paused');
                    } else {
                        console.error("L·ªói khi ph√°t nh·∫°c:", error);
                        this.updateState('error');
                    }
                });

                // Lu√¥n tr·∫£ v·ªÅ Promise ƒë·ªÉ code b√™n ngo√†i c√≥ th·ªÉ x·ª≠ l√Ω n·∫øu c·∫ßn
                return playPromise;
            },

            togglePlayback() {
                if (!this.audio || this.state === 'loading') {
                    console.warn("Nh·∫°c ch∆∞a s·∫µn s√†ng.");
                    return;
                }

                // Logic toggle ƒë∆°n gi·∫£n v√† hi·ªáu qu·∫£
                if (this.audio.paused) {
                    this.play(); // D√πng h√†m play() th√¥ng minh c·ªßa ch√∫ng ta
                } else {
                    this.audio.pause();
                }
            },

            // C√°c h√†m c√≤n l·∫°i gi·ªØ nguy√™n
            updateState(newState) {
                this.state = newState;
                this.updateUI();
            },

            updateUI() {
                const audioIcon = document.getElementById('audio-icon');
                if (!audioIcon) return;

                if (!this.audio || this.audio.paused) {
                    audioIcon.classList.remove("fa-volume-high");
                    audioIcon.classList.add("fa-volume-xmark");
                } else {
                    audioIcon.classList.remove("fa-volume-xmark");
                    audioIcon.classList.add("fa-volume-high");
                }
            },

            attachEventListeners() {
                if (!this.audio) return;
                this.audio.onplay = () => this.updateState('playing');
                this.audio.onpause = () => this.updateState('paused');
                this.audio.onvolumechange = () => this.updateUI();
            },

            // C√°c h√†m fetchWithAuth v√† getToken gi·ªØ nguy√™n...
             // C√°c h√†m fetchWithAuth v√† getToken gi·ªØ nguy√™n...
            async getToken() {
                try {
                    const res = await fetch('/token-api-mp3');
                    if (!res.ok) throw new Error('Kh√¥ng l·∫•y ƒë∆∞·ª£c token');
                    const data = await res.json();
                    this.tokenData = data;
                    return this.tokenData;
                } catch (err) {
                    console.error('L·ªói l·∫•y token:', err);
                    return null;
                }
            },
            async fetchWithAuth(url) {
                await this.getToken();

                if (!this.tokenData) throw new Error('Kh√¥ng c√≥ token x√°c th·ª±c');

                const headers = {
                    'X-Auth-Token': this.tokenData.token,
                    'X-Auth-Timestamp': this.tokenData.timestamp,
                    'X-Client-Key': this.tokenData.clientKey,
                    'X-Auth-Nonce': this.tokenData.nonce,
                };

                let res = await fetch(url, {
                    headers
                });

                if (!res.ok) {
                    const errorText = await res.text();
                    console.error(`L·ªói response (${res.status}):`, errorText);
                    if (res.status === 403) {
                        await this.getToken();
                        if (!this.tokenData) throw new Error('Kh√¥ng c√≥ token x√°c th·ª±c');

                        const newHeaders = {
                            'X-Auth-Token': this.tokenData.token,
                            'X-Auth-Timestamp': this.tokenData.timestamp,
                            'X-Client-Key': this.tokenData.clientKey,
                            'X-Auth-Nonce': this.tokenData.nonce,
                        };

                        res = await fetch(url, {
                            headers: newHeaders
                        });

                        if (!res.ok) {
                            const errText = await res.text();
                            throw new Error(`Request l·ªói sau khi refresh token: ${res.status}`);
                        }
                    } else {
                        throw new Error(`Request l·ªói: ${res.status}`);
                    }
                }

                return res;
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            window.musicManager = musicManager;
            musicManager.init();

            const toggleBtn = document.getElementById("toggle-audio");
            toggleBtn.addEventListener("click", () => musicManager.togglePlayback());
        });
    </script>
            <script>
            // Ch·∫∑n chu·ªôt ph·∫£i
            document.addEventListener("contextmenu", function(e) {
                e.preventDefault();
            });

            // Ch·∫∑n F12, Ctrl+U, Ctrl+Shift+I/J/C/S, Cmd+Opt+I (Mac)
            document.addEventListener("keydown", function(e) {
                if (
                    e.key === "F12" ||
                    (e.ctrlKey && e.shiftKey && ["i", "j", "c", "s"].includes(e.key.toLowerCase())) ||
                    (e.ctrlKey && e.key.toLowerCase() === "u") ||
                    (e.metaKey && e.altKey && e.key.toLowerCase() === "i") || // Cmd + Opt + I
                    (e.metaKey && e.key.toLowerCase() === "u") // Cmd + U
                ) {
                    e.preventDefault();
                    return false;
                }
            });

            // X√≥a console methods
            console.log = () => {};
            console.debug = () => {};
            console.warn = () => {};
            console.info = () => {};

            // Ph√°t hi·ªán DevTools b·∫±ng th·ªùi gian th·ª±c thi debugger
            setInterval(() => {
                const before = new Date().getTime();
                debugger;
                const after = new Date().getTime();
                if (after - before > 100) {
                    document.body.innerHTML =
                        '<h1 style="text-align:center;margin-top:100px;color:red">üîí B·∫°n ƒëang c·ªë m·ªü Developer Tools!</h1>';
                }
            }, 1000);

            // Ph√°t hi·ªán DevTools qua k√≠ch th∆∞·ªõc c·ª≠a s·ªï
            // function detectDevToolsSize() {
            //     if (
            //         window.outerWidth - window.innerWidth > 160 ||
            //         window.outerHeight - window.innerHeight > 160
            //     ) {
            //         document.body.innerHTML = '<h1 style="text-align:center;margin-top:100px;color:red">üîí Developer Tools b·ªã ph√°t hi·ªán!</h1>';
            //     }
            // }
            // window.onresize = detectDevToolsSize;
            // window.onload = detectDevToolsSize;

            // Ph√°t hi·ªán m·ªü console qua toString tampering
            (function() {
                const element = new Image();
                Object.defineProperty(element, 'id', {
                    get: function() {
                        document.body.innerHTML =
                            '<h1 style="text-align:center;margin-top:100px;color:red">‚ö†Ô∏è ƒê·ª´ng m·ªü console!</h1>';
                        throw new Error("Console is blocked");
                    }
                });

                setInterval(() => {
                    console.log(element);
                    console.clear();
                }, 2000);
            })();

            // NgƒÉn inspect element qua mouse drag
            document.addEventListener('dragstart', function(e) {
                e.preventDefault();
            });

            // NgƒÉn ch·ªçn to√†n b·ªô (Ctrl+A)
            document.addEventListener('keydown', function(e) {
                if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'a') {
                    e.preventDefault();
                }
            });
        </script>
    <script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"dbcd8856a1a842ceb5c3d63534a9f51d","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body>

</html>
